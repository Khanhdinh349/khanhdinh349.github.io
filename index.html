<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>NFC Christmas Card</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg-cloud-dancer: #f5f0e6;
      --card-red: #d3203b;
      --card-green: #0b8746;
      --card-gold: #ffd26f;
      --text-light: #ffffff;
      --text-soft: #ffeef5;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      background: var(--bg-cloud-dancer);
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      color: #222;
      overflow: hidden;
    }

    .wrapper {
      position: relative;
      width: 100%;
      max-width: 420px;
      padding: 24px 16px;
    }

    .hint {
      text-align: center;
      font-size: 0.85rem;
      margin-bottom: 12px;
      opacity: 0.8;
    }

    .scene {
      width: 100%;
      aspect-ratio: 3 / 5;
      max-height: 650px;
      margin: 0 auto;
      perspective: 1200px;
      touch-action: none; /* ƒë·ªÉ drag m∆∞·ª£t tr√™n mobile */
    }

    .card {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.15s ease-out;
      cursor: grab;
    }

    .card:active {
      cursor: grabbing;
    }

    .card-face {
      position: absolute;
      inset: 0;
      border-radius: 24px;
      padding: 22px 20px;
      backface-visibility: hidden;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      box-shadow:
        0 18px 40px rgba(0, 0, 0, 0.25),
        0 0 0 1px rgba(0, 0, 0, 0.08);
    }

    /* M·∫∂T TR∆Ø·ªöC */
    .card-front {
      background: radial-gradient(circle at top left, #ff6b6b 0%, #c1121f 40%, #780000 100%);
      color: var(--text-light);
    }

    .front-top-tag {
      font-size: 0.75rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      opacity: 0.9;
    }

    .front-main {
      margin-top: 20px;
    }

    .front-greeting {
      font-size: 1.9rem;
      line-height: 1.1;
      font-weight: 800;
    }

    .front-greeting span {
      display: inline-block;
    }

    .front-sub {
      margin-top: 12px;
      font-size: 0.95rem;
      max-width: 20rem;
      color: var(--text-soft);
    }

    .front-pill {
      margin-top: 18px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.25);
      font-size: 0.8rem;
    }

    .front-pill-emoji {
      font-size: 1rem;
    }

    .front-bottom {
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      gap: 8px;
      margin-top: 18px;
      font-size: 0.8rem;
      color: #ffeef5;
    }

    .from-label {
      text-transform: uppercase;
      letter-spacing: 0.14em;
      opacity: 0.9;
    }

    .from-name {
      font-weight: 600;
      font-size: 0.9rem;
    }

    .mini-note {
      text-align: right;
      max-width: 11rem;
      opacity: 0.9;
    }

    /* M·∫∂T SAU */
    .card-back {
      background: linear-gradient(145deg, #0b8746, #065731);
      color: var(--text-light);
      transform: rotateY(180deg);
    }

    .back-header-tag {
      font-size: 0.8rem;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      opacity: 0.9;
    }

    .back-title {
      margin-top: 14px;
      font-size: 1.4rem;
      font-weight: 800;
      line-height: 1.2;
    }

    .back-tagline {
      margin-top: 8px;
      font-size: 0.95rem;
      color: #e5fff2;
    }

    .event-info {
      margin-top: 18px;
      padding: 12px;
      border-radius: 16px;
      background: rgba(0, 0, 0, 0.25);
      font-size: 0.9rem;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .event-info p {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .event-info span.icon {
      font-size: 1rem;
    }

    .event-info strong {
      font-weight: 600;
    }

    .back-note {
      margin-top: 16px;
      font-size: 0.9rem;
      color: #f5fff9;
    }

    .back-footer {
      margin-top: auto;
      font-size: 0.8rem;
      opacity: 0.9;
      display: flex;
      justify-content: space-between;
      gap: 10px;
      align-items: flex-end;
    }

    .back-footer span {
      max-width: 9rem;
      text-align: right;
    }

    /* TUY·∫æT R∆†I */
    #snow-layer {
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: -1;
    }

    .snowflake {
      position: fixed;
      top: -10px;
      border-radius: 50%;
      opacity: 0.9;
      filter: blur(0.4px);
      animation-name: fall;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
    }

    @keyframes fall {
      0% {
        transform: translate3d(0, -10px, 0);
      }
      100% {
        transform: translate3d(0, 110vh, 0);
      }
    }

    @media (max-width: 480px) {
      .wrapper {
        padding: 20px 12px;
      }
      .card-face {
        border-radius: 20px;
        padding: 20px 18px;
      }
      .front-greeting {
        font-size: 1.7rem;
      }
    }
  </style>
</head>
<body>
  <div id="snow-layer"></div>

  <div class="wrapper">
    <p class="hint">
      Tap & drag the card to spin it ¬∑ front = wish ¬∑ back = event info üéÑ
    </p>

    <div class="scene" id="scene">
      <div class="card" id="card3d">
        <!-- FRONT FACE -->
        <div class="card-face card-front">
          <div class="front-top-tag">
            CHRISTMAS VIBES ¬∑ 2024
          </div>

          <div class="front-main">
            <h1 class="front-greeting">
              <span>Merry</span> <span>Christmas</span> <span>teammate ‚ú®</span>
            </h1>
            <p class="front-sub">
              Wishing you a cozy, laughter‚Äìfilled holiday, zero bugs in life,
              and max happiness in every ‚Äúproject‚Äù you do next year.
            </p>

            <div class="front-pill">
              <span class="front-pill-emoji">üéß</span>
              <span>Good music, good snacks, good people. That‚Äôs the vibe.</span>
            </div>
          </div>

          <div class="front-bottom">
            <div>
              <div class="from-label">from</div>
              <div class="from-name">Your Gen Z colleague üòé</div>
            </div>
            <div class="mini-note">
              If you find this card, it means you‚Äôre officially on my ‚Äúcool people‚Äù list.
            </div>
          </div>
        </div>

        <!-- BACK FACE (FUN VERSION) -->
        <div class="card-face card-back">
          <div>
            <div class="back-header-tag">
              EVENT DETAILS ¬∑ SECRET FUN
            </div>
            <h2 class="back-title">
              Office Christmas Night üåü
            </h2>
            <p class="back-tagline">
              Nothing fancy. Just us, some snacks, random jokes and a lot of
              ‚Äúwait, what?!‚Äù moments.
            </p>

            <div class="event-info">
              <p>
                <span class="icon">üïï</span>
                <span><strong>Time:</strong> 6:00 PM ¬∑ 19/12</span>
              </p>
              <p>
                <span class="icon">üìç</span>
                <span><strong>Place:</strong> Our office ‚Äî Christmas corner üéÑ</span>
              </p>
            </div>

            <p class="back-note">
              Come as you are ‚Äî but if you add a little red, green or sparkle,
              the Christmas spirit will secretly level you up +10 cool points.
            </p>
          </div>

          <div class="back-footer">
            <span>
              Warning: high chance of inside jokes that only make sense to our team.
            </span>
            <span>
              P.S. If you see someone smiling at their NFC keychain‚Ä¶ that‚Äôs normal. üòè
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // 3D DRAG ROTATION
    const card = document.getElementById("card3d");
    const scene = document.getElementById("scene");

    let isDragging = false;
    let startX = 0;
    let startY = 0;
    let currentRotX = -10;
    let currentRotY = 18;

    function updateTransform() {
      card.style.transform = `rotateX(${currentRotX}deg) rotateY(${currentRotY}deg)`;
    }

    updateTransform();

    function onPointerDown(e) {
      isDragging = true;
      const point = e.touches ? e.touches[0] : e;
      startX = point.clientX;
      startY = point.clientY;
    }

    function onPointerMove(e) {
      if (!isDragging) return;
      const point = e.touches ? e.touches[0] : e;
      const dx = point.clientX - startX;
      const dy = point.clientY - startY;

      currentRotY += dx * 0.25;
      currentRotX -= dy * 0.25;

      // gi·ªõi h·∫°n xoay d·ªçc m·ªôt ch√∫t cho ƒë·ª° ch√≥ng m·∫∑t
      currentRotX = Math.max(-70, Math.min(70, currentRotX));

      startX = point.clientX;
      startY = point.clientY;
      updateTransform();
    }

    function onPointerUp() {
      isDragging = false;
    }

    scene.addEventListener("mousedown", onPointerDown);
    window.addEventListener("mousemove", onPointerMove);
    window.addEventListener("mouseup", onPointerUp);

    scene.addEventListener("touchstart", onPointerDown, { passive: true });
    window.addEventListener("touchmove", onPointerMove, { passive: true });
    window.addEventListener("touchend", onPointerUp);

    // RANDOM SNOW
    const snowLayer = document.getElementById("snow-layer");

    function createSnowflake() {
      const flake = document.createElement("div");
      const size = Math.random() * 4 + 2; // 2‚Äì6px
      const left = Math.random() * 100; // viewport width %
      const duration = Math.random() * 10 + 8; // 8‚Äì18s
      const delay = Math.random() * 10; // 0‚Äì10s

      flake.className = "snowflake";
      flake.style.width = `${size}px`;
      flake.style.height = `${size}px`;
      flake.style.left = `${left}vw`;
      flake.style.background = "rgba(255, 255, 255, 0.95)";
      flake.style.animationDuration = `${duration}s`;
      flake.style.animationDelay = `${delay}s`;

      snowLayer.appendChild(flake);
    }

    for (let i = 0; i < 80; i++) {
      createSnowflake();
    }
  </script>
</body>
</html>
